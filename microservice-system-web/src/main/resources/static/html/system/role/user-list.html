<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>首页</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../../../plugins/layui-2.1.3/css/layui.css" media="all">
  </head>
  <body>
    <div class="tab-body">
      <p class="page-tab">
        <span class="layui-breadcrumb" lay-separator=">"><a href="">首页</a><a><cite>用户列表</cite></a></span></p>
      <div class="handle-box">
        <ul>
          <li class="handle-item"><span class="layui-form-label">用户名：</span>
            <div class="layui-input-inline"><input type="text" autocomplete="off" placeholder="请输入搜索条件" class="layui-input"></div>
            <button class="layui-btn mgl-20">查询</button>
            <button class="layui-btn mgl-20" id="refresh">刷新</button>
            <span class="fr">
            <a class="layui-btn layui-btn-danger radius btn-delect" id="btn-delect-all">
            <i class="linyer icon-delect"></i> 批量删除</a>
            <a class="layui-btn btn-add btn-default" id="btn-adduser">
            <i class="linyer icon-add"></i> 添加用户</a>
            <a class="layui-btn btn-show btn-default" id="btn-showuser">
            <i class="linyer icon-add"></i> 查看用户</a>
            </span>
           </li>
           
        </ul>
      </div>
      <div class="layui-clear">
        <div class="tableTools fr"></div>
      </div>
    </div>
    
   <!--  <table class="layui-table" lay-data="{height:315, url:'/system/user/listByPage/', page:true, id:'table'}" lay-filter="test">
	  <thead>
	    <tr>
	      <th lay-data="{field:'userId', width:80, sort: true}">ID</th>
	      <th lay-data="{field:'userName', width:80}">用户名</th>
	      <th lay-data="{field:'nickName', width:80, sort: true}">昵称</th>
	      <th lay-data="{field:'password', width:80}">密码</th>
	      <th lay-data="{field:'mobileNumber', width:177}">手机号码</th>
	    </tr>
	  </thead>
	</table> -->
	
	<table id="userTable"></table>
    
    <script src="../../../plugins/layui-2.1.3/layui.js"></script>
    <script>
    		layui.use(['layer','table'], function(){
		  var $ = layui.jquery,
		  	table = layui.table,
		  	layer = layui.layer;
		  	table.render({
			    elem: '#userTable',
			   // data:[],
			    height: 372,
			    url: '/system/user/listByPage',
			    request:{
			    		pageName:'curr',
			    		limitName:'nums'
			    },
			    cols: [[ //标题栏
			      {checkbox: true, LAY_CHECKED: false}, //默认全选
			      {field: 'userId', title: 'ID', width: '120', sort: true},
			      {field: 'userName', title: '用户名', width: '120'},
			      {field: 'nickName', title: '邮箱', width: '120'},
			      {field: 'password', title: '签名', width: '120'},
			      {field: 'mobileNumber', title: '手机号码', width:'150'}
			    ]], 
			    skin: 'row', //表格风格
			    even: true,
			    page: true, //是否显示分页
			    limits: [5, 7, 10],
			    limit: 5 //每页默认显示的数量
			});
		  	
		  	$("#btn-adduser").on('click', function() {
	    		    //var username = $(this).html();
	    		    layer.open({
	    		    	  type: 2,
	    		    	  area: ['700px', '450px'],
	    		    	  fixed: false, //不固定
	    		    	  maxmin: true,
	    		    	  content: '/html/system/role/user-add.html'
	    		    	});
	    		    
	    		  });
			
   	 	});
    		
	</script>
  </body>

</html>